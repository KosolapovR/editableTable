<div class="d-flex justify-content-end mt-4 mb-4">
  <app-add-modal></app-add-modal>
</div>
<table class="table table-striped">
  <thead>
  <tr>
    <th>#</th>
    <th *ngFor="let item of (entities$|async)[0] | keyvalue">
      <ng-container *ngIf="item.key !== 'id'">
        {{item.key}}
      </ng-container>
    </th>
    <th></th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr
    *ngFor="let entity of entities$|async| slice:(page - 1) * pageSize:(page - 1) * pageSize + pageSize; let i = index">
    <th>{{i + 1}}</th>
    <td *ngFor="let item of entity|keyvalue">
      <ng-container *ngIf="item.key !== 'id'">
        {{item.value}}
      </ng-container>
    </td>
    <td>
      <app-edit-modal entityId="{{entity.id}}"></app-edit-modal>
    </td>
    <td>
      <button type="button" class="btn btn-danger" (click)="deleteEntity(entity.id)">DEL</button>
    </td>
  </tr>
  </tbody>
</table>

<div class="d-flex justify-content-between p-2">
  <ngb-pagination [collectionSize]="(entities$|async).length" [(page)]="page" [pageSize]="pageSize">
  </ngb-pagination>
</div>

<div class="d-flex justify-content-center mt-2">
  <button class="btn btn-primary">Загрузить из файла</button>
  <button class="btn btn-primary ml-4">Выгрузить CSV</button>
  <button class="btn btn-success ml-4" (click)="closeTableBlock()">Выгрузить</button>
</div>

